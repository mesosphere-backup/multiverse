{
    "id": "/zeppelin",
    "container": {
        "type": "DOCKER",
        "docker": {
            "image": "mesosphere/zeppelin:0.5.5",
            "forcePullImage": true,
            "network": "HOST"
        }
    },
    "healthChecks": [{
        "protocol": "TCP",
        "gracePeriodSeconds": 300,
        "intervalSeconds": 60,
        "portIndex": 0,
        "timeoutSeconds": 15,
        "maxConsecutiveFailures": 3
    }],
    "env": {
        "ZEPPELIN_JAVA_OPTS": "-Dspark.mesos.webui.url=http://{{zeppelin.framework-name}}{{zeppelin.dns-suffix}}:${PORT0}",
        "SPARK_APP_NAME": "{{zeppelin.framework-name}}",
        "SPARK_MESOS_EXECUTOR_DOCKER_IMAGE": "{{zeppelin.spark_docker_image}}",
        "SPARK_HOME": "${MESOS_SANDBOX}/{{zeppelin.spark_version}}"
    },
    "cmd": "sed \"s#<value>8080</value>#<value>$PORT0</value>#\" conf/zeppelin-site.xml.template > conf/zeppelin-site.xml && eval $(env | grep '^\\(SPARK\\|ZEPPELIN_\\).*=') bin/zeppelin.sh start",
    "ports": [0],
    "cpus": 1,
    "mem": 2048.0,
    "uris": ["{{zeppelin.spark_uri}}"]
}
